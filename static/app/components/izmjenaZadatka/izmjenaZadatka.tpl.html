<div class="row">
  <div class="col-md-12">
    <h1 class="display-4 text-center">Izmjena Podataka O Zadatku</h1>
  </div>
  <div class="col-12">
    <form ng-submit="ctrl.wrapperFunction()" name="studentForma">
      <div class="form-group">
        <label for="ime">Naslov</label>
        <input
          type="text"
          name="indeks"
          id="indeks"
          class="form-control"
          ng-model="ctrl.noviZadatak.naslov"
          required
        />
      </div>
      <div class="form-group">
        <div class="form-group">
          <label for="exampleFormControlTextarea1">Sadr≈æaj</label>
          <textarea
            class="form-control"
            id="exampleFormControlTextarea1"
            rows="3"
            ng-model="ctrl.noviZadatak.sadrzaj"
          ></textarea>
        </div>
      </div>
      <div class="form-group">
        <label for="korisnicko_ime">Datum</label>
        <input
          type="datetime-local"
          name="prezime"
          id="datum"
          class="form-control"
          ng-model="ctrl.noviZadatak.datum_provere"
          required
        />
      </div>
      <div class="form-group">
        <label for="predmet">Izaberi Predmet</label>
        <select
          name="predmet"
          id="predmet"
          ng-model="ctrl.noviZadatak.predmet_id"
        >
          <option ng-repeat="predmet in ctrl.predmeti" value="{{predmet.id}}"
            >{{predmet.naziv}}</option
          >
        </select>
      </div>
      <div class="form-group">
        <input
          onclick="provera(event)"
          type="submit"
          value="Izmijeni zadatak"
          class="btn btn-primary"
        />
      </div>
    </form>
  </div>
</div>
<script>
  const provera = function(event) {
    let pocetak = document.getElementById("select").value;

    let today = new Date();

    let dd = today.getDate();
    let mm = today.getMonth() + 1;
    let yyyy = today.getFullYear();

    if (dd < 10) dd = "0" + dd;
    if (mm < 10) mm = "0" + mm;

    let now = yyyy + "-" + mm + "-" + dd;

    if (now > pocetak) {
      from = false;
      event.target.setCustomValidity("Datum nije validan!");
    } else {
      event.target.setCustomValidity("");
    }

  };
</script>
